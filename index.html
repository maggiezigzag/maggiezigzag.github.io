<html>
<head>
<meta charset='utf-8' />
<title>Earthquakes greater than 5.5 magnitude from 1972 - 2016</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />

<style>
body {
  margin: 0;
  padding: 0;
  font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
}

#map {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
}

h1 {
  font-size: 20px;
  line-height: 30px;
}

h2 {
  font-size: 14px;
  line-height: 20px;
  margin-bottom: 10px;
}

a {
  text-decoration: none;
  color: #2dc4b2;
}

#console {
  position: absolute;
  width: 240px;
  margin: 10px;
  padding: 10px 20px;
  background-color: white;
}

	.session {
	  margin-bottom: 20px;
	}

	.row {
	  height: 12px;
	  width: 100%;
	}

	.colors {
	  background: linear-gradient(to right, #2dc4b2, #3bb3c3, #669ec4, #8b88b6, #a2719b, #aa5e79);
	  margin-bottom: 5px;
	}

	.label {
	  width: 15%;
	  display: inline-block;
	  text-align: center;
	}

	.CDB-Legend-item {
    	height: 100%;
	}

	.u-tSpace-xl {
    	margin-top: 12px;
	}	

	.Bubble-container {
	    position: relative;
	    top: 0;
	    right: 0;
	    width: 100%;
	    height: 100px;
	    margin: 16px 0 10px;
	}

	.Bubble-item, .Bubble-list {
	    width: 100%;
	    height: 100px;
	}

	.Bubble-item {
    	position: absolute;
	}

	.Bubble-label {
	    position: absolute;
	    bottom: 0;
	    width: calc(100% - 50px);
	}

	.Bubble-label:after {
	    position: absolute;
	    top: -1px;
	    left: 0;
	    width: 100%;
	    height: 1px;
	    background: rgba(0, 0, 0, 0.08);
	    	background-image: initial;
	    	background-position-x: initial;
	    	background-position-y: initial;
	    	background-size: initial;
	    	background-repeat-x: initial;
	    	background-repeat-y: initial;
	    	background-attachment: initial;
	    	background-origin: initial;
	    	background-clip: initial;
	    	background-color: rgba(0, 0, 0, 0.08);
	    content: "";
	    z-index: -1;
	}

	.Bubble-numbersItem {
	    display: inline-block;
	    padding-right: 5px;
	    transform: translate3d(0,-50%,0);
	    background: hsla(0,0%,100%,.8);
	}

	.Bubble-circle {
	    opacity: .5;
	    filter: alpha(opacity=50);
	    position: absolute;
	    right: 0;
	    width: 100px;
	    height: 100%;
	}

	.Bubble-itemCircle {
	    display: block;
	    position: absolute;
	    bottom: 0;
	    left: 50%;
	    width: 100%;
	    height: 100%;
	    transform: translate3d(-50%,0,0);
	    border: 1px solid rgba(0,0,0,.1);
	    border-radius: 50%;
	    background: #f8ab17;
	    box-shadow: -1px 0 2px 0 rgba(0,0,0,.1);
	    pointer-events: none;
	}

	.CDB-Size-small {
	    font-size: 10px;
	    line-height: 14px;
	}

	.CDB-Text {
    	font-family: Open Sans;
	}


</style>
</head>

<body>
<div id='map'></div>
<div id='console'>
  <h1>Significant Earthquakes, 1965-2016</h1>
  <p>Data: <a href='https://www.kaggle.com/usgs/earthquake-database'>Date, time, and location of all earthquakes with magnitude of 5.5 or higher</a> 1965-2016</p>

  <div class='session'>
  <h2>Depth (m)</h2>
  <div class='row colors'>
  </div>
  <div class='row labels'>
    <div class='label'>0</div>
    <div class='label'>150</div>
    <div class='label'>300</div>
    <div class='label'>450</div>
    <div class='label'>600</div>
    <div class='label'>750</div>
  </div>
  </div>

	<div class="CBD-Legend-item u-tSpace-xl u-clearfix" style='display: block;'>
		<div class ="Bubble-container">
			<ul class="Bubble-list">
				<li class="Bubble-item">
					<div class="Bubble-label CDB-Text CDB-Size-small" style="height: 100%">
						<div class="Bubble-numbersItem CDB-Text CDB-Size-small">9.5</div>
					</div>
					<div class = "Bubble-circle">
						<span class="Bubble-itemCircle" style="height:100%; width:100%; opacity:1; background color:#5f4690">
						</span>
					</div>
				</li>
				<li class = "Bubble-item">
					<div class = "Bubble-label CDB-Text CDB-Size-small" style="height: 79%">
						<div class="Bubble-numbersItem CDB-Text CDB-Size-small">8.5</div>
					</div>
					<div class = "Bubble-circle">
						<span class="Bubble-itemCircle" style="height:79%; width:79%; opacity:1; background color:#5f4690"></span>
					</div>
				</li>
				<li class = "Bubble-item">
					<div class = "Bubble-label CDB-Text CDB-Size-small" style="height: 59%">
						<div class="Bubble-numbersItem CDB-Text CDB-Size-small">7.5</div>
					</div>
					<div class = "Bubble-circle">
						<span class="Bubble-itemCircle" style="height:59%; width:59%; opacity:1; background color:#5f4690"></span>
					</div>
				</li>
				<li class = "Bubble-item">
					<div class = "Bubble-label CDB-Text CDB-Size-small" style="height: 39%">
						<div class="Bubble-numbersItem CDB-Text CDB-Size-small">6.5</div>
					</div>
					<div class = "Bubble-circle">
						<span class="Bubble-itemCircle" style="height:39%; width:39%; opacity:1; background color:#5f4690"></span>
					</div>
				</li>
				<li class = "Bubble-item">
					<div class = "Bubble-label CDB-Text CDB-Size-small" style="height: 19%">
						<div class="Bubble-numbersItem CDB-Text CDB-Size-small">5.5</div>
					</div>
					<div class = "Bubble-circle">
						<span class="Bubble-itemCircle" style="height:19%; width:19%; opacity:1; background color:#5f4690"></span>
					</div>
				</li>
			</ul>
		</div>
	</div>

<!-- <div class='session' id='sliderbar'>
  <h2>Date: <label id='Date'>January</label></h2>
  <input id='slider' class='row' type='range' min='0' max='52' step='1' value='0' />
</div> -->

</div>

<!-- <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
 -->
 <script>
mapboxgl.accessToken = 'pk.eyJ1IjoibWFnZ2llemlnemFnIiwiYSI6ImNrOG5qZWZ4YTB6MXMzc253azA4eHA4MmsifQ.OozXguWjag-EZO4FqwusOA';

var map = new mapboxgl.Map({
  container: 'map', // container element id
  style: 'mapbox://styles/mapbox/light-v10',
  center: [-74.0059, 40.7128], // initial map center in [lon, lat]
  zoom: 2
});


var months = [
	'January',
	'February',
	'March',
	'April',
	'May',
	'June',
	'July',
	'August',
	'September',
	'October',
	'November',
	'December'
];
 
function filterBy(Date) {
	var filters = ['==', 'Date', Date];
	map.setFilter('earthquakes', filters);
	map.setFilter('earthquake-labels', filters);
	 
	// Set the label to the month
	document.getElementById('Date').textContent = months[Date];
}

map.on('load', function() {
  map.addLayer({
    id: 'earthquakes',
    type: 'circle',
    source: {
      type: 'geojson',
      data: './earthquakes.geojson' // replace this with the url of your own geojson
    },
    paint: {
      'circle-radius': [
        'interpolate',
        ['exponential', 1],
        ['number', ['get', 'Magnitude']],
        5.5, 5,
        9.5, 75,
      ],
      'circle-color': [
        'interpolate',
        ['linear'],
        ['number', ['get', 'Depth']],
        0, '#2DC4B2',
        150, '#3BB3C3',
        300, '#669EC4',
        450, '#8B88B6',
        600, '#A2719B',
        750, '#AA5E79',
      ],
      'circle-opacity': 0.3
    }
  	});

  map.addLayer({
	'id': 'earthquake-labels',
	'type': 'symbol',
	'source': 'earthquakes',
	'layout': {
	'text-field': [
	'concat',
	['to-string', ['get', 'Magnitude']],
	'm'
	],
	'text-font': [
	'Open Sans Bold',
	'Arial Unicode MS Bold'
	],
	'text-size': 12
	},
	'paint': {
	'text-color': 'rgba(0,0,0,0.5)'
	}
	
  });
});

</script>

</body>


</html>